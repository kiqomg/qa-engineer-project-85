---
- summary: |
    Проверка успешной регистрации пользователя через электронную почту
  requirement: |
    Пользователь должен иметь возможность зарегистрироваться через почту
  prerequisites: |
    Открыта главная страница сайта https://codebattle.hexlet.io/
  test-data: |
    Тестовые данные
    Логин = login Пароль = parol
  steps:
    - Нажать "Sign up"
    - Заполнить "Nickname"
    - Заполнить "Email" 
    - Заполнить "Password" 
    - Заполнить "Password Confirmation" 
    - Нажать "Submit"
  expected-result: |
    Регистрация выполнена успешно, пользователь попадает на главную страницу сайта

- summary: |
    Проверка успешной регистрации пользователя через GitHub
  requirement: |
    Пользователь должен иметь возможность зарегистрироваться через Github
  prerequisites: | 
    Открыта главная страница сайта https://codebattle.hexlet.io/
    У пользователя есть зарегистрированный и авторизованный аккаунт в Github
  test-data: |
    Тестовые данные
  steps: 
    - Нажать "Sign up"
    - Нажать "Sing up with Github"
  expected-result: |
    Регистрация выполнена успешно, пользователь попадает на главную страницу сайта

- summary: |
    Проверка успешной регистрации пользователя через Discord
  requirement: |
    Пользователь должен иметь возможность зарегистрироваться через Discord
  prerequisites: | 
    Открыта главная страница сайта https://codebattle.hexlet.io/
    У пользователя есть зарегистрированный и авторизованный аккаунт в Discord
  test-data: |
    Тестовые данные
  steps: 
    - Нажать "Sign up"
    - Нажать "Sing up with Discord"
  expected-result: |
    Регистрация выполнена успешно, пользователь попадает на главную страницу сайта

- summary: |
    Проверка регистрации пользователя через электронную почту с невалидными данными
  requirement: |
    Пользователь должен иметь возможность зарегистрироваться через почту
  prerequisites:
    Открыта главная страница сайта https://codebattle.hexlet.io/
  test-data: |
    Nickname = :№;+_
    Password = *?№:"
    Email = email!(*№:
  steps:
    - Нажать "Sign up"
    - Ввести логин
    - Ввести почту
    - Ввести пароль
    - Нажать "Submit"
  expected-result: |
    Пользователь должен получить сообщение об ошибке регистрации

- summary: |
    Проверка регистрации пользователя с пустыми полями
  requirement: |
    Пользователь должен иметь возможность зарегистрироваться через почту
  prerequisites:
    Открыта главная страница сайта https://codebattle.hexlet.io/
  test-data: |
    Nickname =
    Password =
    Email =
  steps:
    - Нажать "Sign up"
    - Нажать "Submit"
  expected-result: |
    Пользователь должен получить сообщение об ошибке регистрации
    
- summary: |
    Проверка успешной авторизации пользователя с существующими логином и паролем
  requirement: |
    Пользователь должен иметь возможность авторизоваться через электронную почту
  prerequisites: |
    Пользователем не авторизован на сайте. Открыта главная страница сайта https://codebattle.hexlet.io/
  test-data: |
    Nickname = Nickname 
    Password = Password
    Email = Email@Email.com
  steps:
    - Нажать "Sign in"
    - Ввести Nickname
    - Ввести Email
    - Ввести Password
    - Повторить Password
    - Нажать "Submit"
  expected-result: |
    Авторизация выполнена успешно, пользователь попадает на главную страницу сайта https://codebattle.hexlet.io/

- summary: |
    Проверка авторизации пользователя с несуществующими логином и паролем
  requirement: |
    Пользователь должен иметь возможность авторизоваться через электронную почту
  prerequisites:
    Пользователь не авторизован на сайте. Открыта главная страница сайта https://codebattle.hexlet.io/
  test-data: |
    Nickname = NoNickname
    Password = NoPassword
    Email = NoEmail@Email.com
  steps:
    - Нажать "Sign in"
    - Ввести Nickname
    - Ввести Email
    - Ввести Password
    - Повторить Password
    - Нажать "Submit"
  expected-result: |
    Пользователь должен получить сообщение об ошибке

- summary: | 
    Проверка успешной авторизации пользователя через Github
  requirement: |
    Пользователь должен иметь возможность авторизоваться через Github
  prerequisites: |
    Пользователь не авторизован на сайте. Открыта главная страница сайта https://codebattle.hexlet.io/
    Пользователь должен иметь аккаунт на Github
  test-data: |
    Тестовые данные
  steps:
    - Нажать "Sign in"
    - Нажать "Sign in with Github"
  expected-result: |
    Авторизация с помощью Github выполнена успешно, пользователь попадает на главную страницу сайта https://codebattle.hexlet.io/

- summary: | 
    Проверка успешной авторизации пользователя через Discord
  requirement: |
    Пользователь должен иметь возможность авторизоваться через Discord
  prerequisites: 
    Пользователь не авторизован на сайте. Открыта главная страница сайта https://codebattle.hexlet.io/
    Пользователь должен иметь аккаунт Discord
  test-data: |
    Тестовые данные
  steps:
    - Нажать "Sign in"
    - Нажать "Sign in with Discord"
  expected-result: |
    Авторизация через Discord выполнена успешно, пользователь попадает на главную страницу сайта https://codebattle.hexlet.io/

- summary: |
    Проверка создании игры c ботом
  requirement: |
    Пользователь может создать игру с ботом
  prerequisites: | 
    Открыта страница https://codebattle.hexlet.io/#lobby
    Пользователь авторизован
  test-data: |
    - Сложность игры = 1 звезда
    - Тип игры = с ботом
    - Контроль времени = 8 минут
    - Задача = случайная задача
    - Тэг = коллекции
  steps:
    - Нажать "Create a game"
    - Выбрать уровень сложности игры
    - Выбрать тип игры 
    - Выбрать контроль времени 
    - Выбрать задачу по названию
    - Выбрать задачу по тэгу
    - Нажать "Create battle"
  expected-result: | 
    Игра с ботом с выбранными параметрами успешно создана

- summary: |
    Проверка успешного создания игры с другим пользователем
  requirement: |
    Пользователь может создать игру с другим пользователем 
  prerequisites: | 
    Открыта страница https://codebattle.hexlet.io/#lobby
    Пользователь авторизован
  test-data: |
    - Сложность игры = 1 звезда
    - Тип игры = с другими пользователями
    - Контроль времени = 10 минут
    - Задача = случайная задача
    - Тэг = математика
  steps:
    - Нажать "Create a game"
    - Выбрать уровень сложности игры
    - Выбрать тип игры 
    - Выбрать контроль времени 
    - Выбрать задачу по названию
    - Выбрать задачу по тэгу
    - Нажать "Create battle"
  expected-result: | 
    Игра с другими пользователями с выбранными параметрами успешно создана

- summary: |
    Проверка успешного создания игры с другом
  requirement: |
    Пользователь может создать игру с другом
  prerequisites: | 
    Открыта страница https://codebattle.hexlet.io/#lobby
    Пользователь авторизован
  test-data: |
    - Соперник = User2
    - Email для авторизации соперника: user2@yandex.ru
    - Пароль для авторизации соперника:  123456789
  steps:
    - Нажать "Create a game"
    - Выбрать любые опции игры
    - Выбрать соперника User2 из списка
    - Нажать "Create battle"
    - Авторизоваться под аккаунтом друга
    - Принять приглашение
  expected-result: | 
    Приглашение отображается у друга, игра успешно создана
    
- summary: |
    Проверка успешной отмены созданной игры
  requirement: |
    Пользователь может отменить созданную игру
  prerequisites: | 
    Открыта страница https://codebattle.hexlet.io/#lobby
    Пользователь авторизован
  test-data: |
    - Сложность игры = 1 звезда
    - Тип игры = с другими пользователями
    - Контроль времени = 10 минут
    - Задача = случайная задача
    - Тэг = математика
  steps:
    - Нажать "Create a game"
    - Выбрать уровень сложности игры
    - Выбрать тип игры 
    - Выбрать контроль времени 
    - Выбрать задачу по названию
    - Выбрать задачу по тэгу
    - Нажать "Create battle"
    - Нажать "Continue"
    - Нажать "Cancel"
  expected-result: | 
    Игра успешно отменена

- summary: |
    Проверка возможности участия пользователя в турнире
  requirement: |
    Пользователь должен иметь возможность участвовать в активных турнирах
  prerequisites: |
    Открыта страница https://codebattle.hexlet.io/#lobby
    Пользователь авторизован
    Есть активный турнир
  test-data: |
    Тестовые данные
  steps:
    - Нажать на свой ник в правом верхнем углу
    - Нажать "Tournaments"
    - Нажать "Show" 
    - Нажать "Join"
  expected-result: |
    Пользователь присоединился к турниру, имя пользователя появилось в списке участников турнира 

- summary: |
    Проверка возможности просмотра истории своих игр 
  requirement: |
    Пользователь может просматривать историю своих игр
  prerequisites: | 
    Открыта страница https://codebattle.hexlet.io/#lobby
    Пользователь авторизован
  test-data: |
    Тестовые данные
  steps:
    - Нажать на свой ник в правом верхнем углу
    - Нажать "My profile"
    - Нажать "Completed Games" 
  expected-result: | 
    Открывается список игр пользователя

- summary: |
    Проверка просмотра собственного рейтинга
  requirement: |
    Пользователь должен иметь возможность просматривать собственный рейтинг
  prerequisites: | 
    Открыта страница https://codebattle.hexlet.io/#lobby
    Пользователь авторизован 
  test-data: |
    Игрок = acemore
    Период времени = общий
  steps:
    - Нажать на свой ник в правом верхнем углу
    - Нажать "User rating"
    - Выбрать период времени
    - Ввести собственный ник в поле "Username" 
  expected-result: | 
    Собственный рейтинг пользователя успешно открыт и просматривается

- summary: |
    Проверка просмотра рейтинга других игроков
  requirement: |
    Пользователь должен иметь возможность просматривать рейтинг других игроков за определенный период времени
  prerequisites: | 
    Открыта страница https://codebattle.hexlet.io/#lobby
    Пользователь авторизован
  test-data: |
    Игрок = acemore
    Период времени = общий 
  steps:
    - Нажать на свой ник в правом верхнем углу
    - Нажать "User rating"
    - Выбрать период времени
    - В поле "Username" ввести имя выбранного игрока
  expected-result: | 
    Рейтинг выбранного пользователя успешно открыт и просматривается

- summary: |
    Проверка успешной разавторизации
  requirement: |
    Пользователь может разавторизоваться на сайте
  prerequisites: |
    Открыта главная страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
  test-data: |
    Тестовые данные
  steps:
    - Нажать на свой ник в правом верхнем углу
    - Нажать "Sign out"
  expected-result: |
    Пользователь успешно разавторизован

- summary: |
    Проверка победы в игре с другим пользователем
  requirement: |
    Пользователь может победить в игре с другим пользователем
  prerequisites: |
    Открыта главная страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
  test-data: |
    Тестовые данные
  steps:
    - Нажать "Create a game"
    - Выбрать уровень сложности игры
    - Выбрать тип игры "с другим пользователем" 
    - Выбрать контроль времени 
    - Выбрать задачу по названию
    - Выбрать задачу по тэгу
    - Нажать "Create battle"
    - Написать код раньше соперника
  expected-result: |
    Пользователь выиграл в игре с другим пользователем

- summary: |
    Проверка завершения игры с другим пользователем ничьей
  requirement: |
    Игра с другим пользователем может завершиться ничьей
  prerequisites: |
    Открыта главная страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
  test-data: |
    Тестовые данные
  steps:
    - Нажать "Create a game"
    - Выбрать уровень сложности игры
    - Выбрать тип игры "с ботом" 
    - Выбрать контроль времени 
    - Выбрать задачу по названию
    - Выбрать задачу по тэгу
    - Нажать "Create battle"
    - Дождаться окончания времени игры
  expected-result: |
    Время игры вышло, объявлена ничья

- summary: |
    Проверка проигрыша в игре с другим пользователем
  requirement: |
    Пользователь может проиграть в игре с другим пользователем
  prerequisites: |
    Открыта главная страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
  test-data: |
    Тестовые данные
  steps:
    - Нажать "Create a game"
    - Выбрать уровень сложности игры
    - Выбрать тип игры "с другим пользователем" 
    - Выбрать контроль времени 
    - Выбрать задачу по названию
    - Выбрать задачу по тэгу
    - Нажать "Create battle"
    - Написать код позже соперника
  expected-result: |
    Пользователь проиграл в игре с другим пользователем

- summary: |
    Проверка победы в игре с ботом
  requirement: |
    Пользователь может победить в игре с ботом
  prerequisites: |
    Открыта главная страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
  test-data: |
    Тестовые данные
  steps:
    - Нажать "Create a game"
    - Выбрать уровень сложности игры
    - Выбрать тип игры "с ботом" 
    - Выбрать контроль времени 
    - Выбрать задачу по названию
    - Выбрать задачу по тэгу
    - Нажать "Create battle"
    - Написать код раньше бота
  expected-result: |
    Пользователь выиграл в игре с ботом

- summary: |
    Проверка завершения игры с ботом ничьей
  requirement: |
    Игра с ботом может завершиться ничьей
  prerequisites: |
    Открыта главная страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
  test-data: |
    Тестовые данные
  steps:
    - Нажать "Create a game"
    - Выбрать уровень сложности игры
    - Выбрать тип игры "с ботом" 
    - Выбрать контроль времени 
    - Выбрать задачу по названию
    - Выбрать задачу по тэгу
    - Нажать "Create battle"
    - Дождаться окончания времени игры
  expected-result: |
    Время игры вышло, объявлена ничья

- summary: |
    Проверка проигрыша в игре с ботом
  requirement: |
    Пользователь может проиграть в игре с ботом
  prerequisites: |
    Открыта главная страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
  test-data: |
    Тестовые данные
  steps:
    - Нажать "Create a game"
    - Выбрать уровень сложности игры
    - Выбрать тип игры "с ботом" 
    - Выбрать контроль времени 
    - Выбрать задачу по названию
    - Выбрать задачу по тэгу
    - Нажать "Create battle"
    - Написать код позже бота
  expected-result: |
    Пользователь проиграл в игре с ботом

- summary: |
    Проверка возможности сдаться
  requirement: |
    Пользователь может сдаться 
  prerequisites: |
    Открыта главная страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
  test-data: |
    Тестовые данные
  steps:
    - Нажать "Create a game"
    - Выбрать уровень сложности игры
    - Выбрать тип игры  
    - Выбрать контроль времени 
    - Выбрать задачу по названию
    - Выбрать задачу по тэгу
    - Нажать "Create battle"
    - Нажать "сдаться"
  expected-result: |
    Пользователь сдался

- summary: |
    Проверка успешного изменения имени пользователя
  requirement: |
    Пользователь может изменить свое имя в настройках
  prerequisites: |
    Открыта главная страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
  test-data: |
    Тестовые данные
  steps:
    - Нажать на свой ник в правом верхнем углу
    - Выбрать Settings
    - Изменить имя в поле Your name
    - Нажать "save"
  expected-result: |
    Пользователь успешно изменил имя

- summary: |
    Проверка успешного изменения выбранного языка программирования
  requirement: |
    Пользователь может изменить язык программирования в настройках
  prerequisites: |
    Открыта главная страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
  test-data: |
    Тестовые данные
  steps:
    - Нажать на свой ник в правом верхнем углу
    - Выбрать Settings
    - Изменить язык в поле Your weapon
    - Нажать "save"
  expected-result: |
    Пользователь успешно изменил язык программирования
